import{_ as e,r as t,o as i,c,a as s,b as a,d as m,e as n}from"./app-s5JIphqh.js";const p={},r={href:"http://arxiv.org/abs/2405.07467",target:"_blank",rel:"noopener noreferrer"},o=s("p",null,"â­â­â­",-1),h=s("p",null,"arXiv:2405.07467",-1),u=n('<h2 id="ä¸€ã€è®ºæ–‡é€Ÿè¯»" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€è®ºæ–‡é€Ÿè¯»"><span>ä¸€ã€è®ºæ–‡é€Ÿè¯»</span></a></h2><p>å·²æœ‰ç ”ç©¶æŒ‡å‡ºï¼Œåœ¨ä½¿ç”¨ LLM ä½¿ç”¨ ICL æ—¶ï¼ŒICL çš„ few-shot exemplars çš„å†…å®¹ã€å‘ˆç°é¡ºåºéƒ½ä¼šæ•æ„Ÿåœ°å½±å“ LLM çš„è¾“å‡ºã€‚åŸºäºæ­¤ï¼Œ<strong>æœ¬æ–‡æå‡ºé€šè¿‡ä½¿ç”¨å¤šä¸ª prompts å¹¶åˆ©ç”¨ LLM çš„ ICL exemplars çš„æ•æ„Ÿæ€§ï¼Œæ¥æ‰©å¤§ LLM çš„æœç´¢ç©ºé—´ï¼Œå¾—åˆ° LLM çš„å¤šä¸ªå“åº” SQLï¼Œç„¶åå†åšä¸€ä¸ªå¤šé¡¹é€‰æ‹©ï¼Œä»ä¸­é€‰å‡ºæœ€ç»ˆçš„ SQL ä½œä¸ºè¾“å‡º</strong>ã€‚</p><p><mark>MCS-SQL</mark> æ¨¡å‹åŒ…å«ä¸‰ä¸ªä¸»è¦æ­¥éª¤ï¼š</p><ol><li>schema linkingï¼šç­›é€‰å‡ºç›¸å…³çš„ DB schema</li><li>multiple SQL generationï¼šåˆ©ç”¨å¤šä¸ª prompts æ¥è®© LLM ç”Ÿæˆå¤šä¸ª SQL</li><li>multiple choice selectionï¼šä»å¤šä¸ª SQL ä¸­é€‰å‡ºæœ€ç»ˆçš„ SQL</li></ol><h2 id="äºŒã€mcs-sql-æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€mcs-sql-æ¨¡å‹"><span>äºŒã€MCS-SQL æ¨¡å‹</span></a></h2><p>è¿™é‡Œåˆ†åˆ«ä»‹ç»è¿™ä¸ªæ¨¡å‹çš„ä¸‰ä¸ªæ­¥éª¤ã€‚</p><h3 id="_2-1-schema-linking" tabindex="-1"><a class="header-anchor" href="#_2-1-schema-linking"><span>2.1 Schema Linking</span></a></h3><p>Schema Linking å°±æ˜¯è¯†åˆ«å‡ºä¸ question ç›¸å…³çš„ DB tables å’Œ columnsã€‚è¿™é‡Œåˆ†æˆä¸¤æ­¥æ¥åšï¼šå…ˆ table linkingï¼Œå† column linkingã€‚</p>',8),d=s("p",null,[s("strong",null,"Table Linking"),a("ï¼šå°† questionã€DB schema ç»™ LLMï¼Œè®© LLM ä»¥ JSON æ ¼å¼è¾“å‡ºé€‰å‡ºçš„ tables ä»¥åŠç†ç”±ã€‚ä¸€ä¸ª prompt ç¤ºä¾‹å¦‚ä¸‹å›¾ã€‚ä¸ºäº†é²æ£’æ€§ï¼Œè¿™ä¸€æ­¥ä½¿ç”¨äº† "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"p"),s("mi",null,"t")])]),s("annotation",{encoding:"application/x-tex"},"p_t")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2806em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"t")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" ä¸ª promptsï¼Œæ¯ä¸ª prompt è®© LLM ç”Ÿæˆ n æ¬¡å“åº”ï¼Œå…±å¾—åˆ° "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"p"),s("mi",null,"t")]),s("mo",null,"â‹…"),s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"p_t \\cdot n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2806em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"t")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"â‹…"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),a(" ä¸ªå“åº”ç»“æœï¼Œç„¶åå–å¹¶é›†ä½œä¸ºæœ€ç»ˆç­›é€‰ç»“æœã€‚")],-1),g=s("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20240626214504899.png",alt:"image-20240626214504899",style:{zoom:"80%"}},null,-1),v=s("p",null,[s("strong",null,"Column Linking"),a("ï¼šä¹Ÿæ˜¯ prompt LLM æ¥åšï¼Œprompt ä¸­åªåŒ…å«ç­›é€‰åçš„ tables çš„ schemaã€‚æŒ‡ç¤º LLM è¾“å‡º "),s("code",null,"[table-name].[col-name]"),a(" æ ¼å¼çš„ç­”æ¡ˆï¼Œä»¥é˜²æ­¢å‘½åå†²çªã€‚ä¸€ä¸ª prompt ç¤ºä¾‹å¦‚ä¸‹å›¾ã€‚å…·ä½“ä¸Šï¼Œä¹Ÿæ˜¯æœ‰ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"p"),s("mi",null,"c")])]),s("annotation",{encoding:"application/x-tex"},"p_c")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"c")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),a(" ä¸ª promptsï¼Œæ¯ä¸ªè®© LLM ç”Ÿæˆ n æ¬¡å“åº”ï¼Œå…±å¾—åˆ° "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"p"),s("mi",null,"c")]),s("mo",null,"â‹…"),s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"p_c \\cdot n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6389em","vertical-align":"-0.1944em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"c")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"â‹…"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),a(" ä¸ªå“åº”ç»“æœï¼Œç„¶åå–å¹¶é›†ä½œä¸ºæœ€ç»ˆç­›é€‰ç»“æœã€‚")],-1),L=n('<img src="https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20240626215139894.png" alt="image-20240626215139894" style="zoom:80%;"><h3 id="_2-2-multiple-sql-generation" tabindex="-1"><a class="header-anchor" href="#_2-2-multiple-sql-generation"><span>2.2 Multiple SQL Generation</span></a></h3><p>ä¸ºäº†åˆ©ç”¨ LLM å¯¹ ICL exemplars çš„æ•æ„Ÿæ€§ï¼Œè¿™é‡Œé€šè¿‡å˜æ¢ exemplars çš„é€‰æ‹©ç»“æœå’Œå‘ˆç°é¡ºåºï¼Œæ¥å¾—åˆ°å¤šä¸ª promptsã€‚</p><p>è¿™é‡Œå…ˆåš <strong>Few-shot Examples Selection</strong>ï¼Œå…·ä½“æ¥è¯´æœ‰ä¸¤ç§ selection æ–¹æ³•ï¼š</p><ol><li>åˆ©ç”¨ question similarityï¼šå°† question ä½œä¸º keyword è¿›è¡Œç›¸ä¼¼åº¦æ£€ç´¢ï¼Œä»è€Œåœ¨ training set ä¸­æ£€ç´¢åˆ° examplesã€‚</li><li>åˆ©ç”¨ masked question similarityï¼šå»æ‰ question ä¸­çš„ schema-specific content åœ¨è¿›è¡Œç›¸ä¼¼åº¦æ£€ç´¢ï¼Œè¿™æ ·èƒ½å¤Ÿè®©æ£€ç´¢æ›´åŠ å…³æ³¨ question çš„ç»“æ„å½¢å¼</li></ol><p>è¿™é‡Œä¼šä¸¤ç§æ–¹æ³•éƒ½ä½¿ç”¨ï¼Œä»è€Œå¾—åˆ°å¤šä¸ª promptsã€‚</p><p>æœ‰äº† promptï¼Œå°±å¯ä»¥åš <strong>SQL Generation</strong>ï¼Œprompt ä¸­åŒ…å« few-shot examplesã€DB schemaã€rows ç¤ºä¾‹ä»¥åŠ user questionï¼Œå¦‚ä¸‹ï¼š</p>',7),b=s("div",{class:"language-plain line-numbers-mode","data-ext":"plain","data-title":"plain"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",null,"### Generate the correct SQL query for a given DB schema and question.")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Gold Examples:")]),a(`
`),s("span",{class:"line"},[s("span",null,"- Question: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"- Gold SQL: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"...")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"### DB Schema: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Sample Table Contents: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Question: ...")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"Your answer should be in the json format:")]),a(`
`),s("span",{class:"line"},[s("span",null,"{")]),a(`
`),s("span",{class:"line"},[s("span",null,'  "reasoning": ".."  # The reasoning steps behind the generated SQL query')]),a(`
`),s("span",{class:"line"},[s("span",null,'  "sql": ".."  # The generated SQL query.')]),a(`
`),s("span",{class:"line"},[s("span",null,"}")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Your answer:")])])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),_=s("p",null,"å…¶ä¸­ rows ç¤ºä¾‹ä½¿ç”¨ CSV æ ¼å¼æ¥å±•ç¤ºã€‚åœ¨è¾“å‡ºæ—¶ï¼Œè¿˜å¼•å¯¼ LLM è§£é‡Šå®ƒç”Ÿæˆ SQL çš„æ¨ç†æ­¥éª¤ã€‚",-1),y=s("p",null,[a("ç”±äºæœ‰å¤šä¸ª promptsï¼Œè¿™é‡Œä½¿ç”¨è¾ƒé«˜çš„é‡‡æ ·æ¸©åº¦æ¥è®© LLM åšç”Ÿæˆï¼Œä»è€Œå¾—åˆ° "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"p"),s("mi",null,"q")]),s("mo",null,"â‹…"),s("mi",null,"n")]),s("annotation",{encoding:"application/x-tex"},"p_q \\cdot n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7306em","vertical-align":"-0.2861em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal"},"p"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"q")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2861em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"â‹…"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"n")])])]),a(" ä¸ªå€™é€‰ SQLã€‚")],-1),x=s("h3",{id:"_2-3-selection",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-3-selection"},[s("span",null,"2.3 Selection")])],-1),S=s("p",null,"è¿™ä¸€æ­¥æ˜¯ä»å€™é€‰ SQL ä¸­é€‰å‡ºæœ€å‡†ç¡®çš„ SQL queryã€‚",-1),k=s("p",null,"æ•´ä½“çš„æ€è·¯æ˜¯ï¼šå…ˆåŸºäº confidence score ä» candidate pool åšä¸€æ¬¡è¿‡æ»¤ï¼Œç„¶åå†ä½¿ç”¨ LLM ä» refined pool ä¸­é€‰å‡ºæœ€ç²¾ç¡®çš„ SQLã€‚",-1),M=s("h4",{id:"_2-3-1-candidate-filtering",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-3-1-candidate-filtering"},[s("span",null,"2.3.1 Candidate Filtering")])],-1),Q=s("p",null,"è¿™é‡Œå…ˆæ‰§è¡Œæ‰€æœ‰å€™é€‰ SQLï¼Œç„¶åå°†æŸ¥è¯¢ç»“æœç›¸åŒçš„è¢«åˆ†ç»„åœ¨ä¸€èµ·ï¼Œæ¯ç»„åªä¿ç•™æŸ¥è¯¢æœ€å¿«çš„ SQLã€‚",-1),w=s("p",null,[a("ç„¶åå°±å†è®¡ç®—æ¯ä¸ª SQL çš„ confidence scoresï¼ŒN ä¸ª SQL "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{stretchy:"false"},"{"),s("msub",null,[s("mi",null,"q"),s("mn",null,"1")]),s("mo",{separator:"true"},","),s("mo",null,"â€¦"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"q"),s("mi",null,"N")]),s("mo",{stretchy:"false"},"}")]),s("annotation",{encoding:"application/x-tex"},"\\{q_1, \\dots, q_N \\}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"{"),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"1")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"minner"},"â€¦"),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3283em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0359em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.10903em"}},"N")])])]),s("span",{class:"vlist-s"},"â€‹")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},"}")])])]),a(" çš„ scores è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š")],-1),q=s("p",null,[s("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/image-20240626220816966.png",alt:"image-20240626220816966"})],-1),f=s("ul",null,[s("li",null,[a("å…¶ä¸­ exec(q) æŒ‡çš„æ˜¯ SQL query "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"q")]),s("annotation",{encoding:"application/x-tex"},"q")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q")])])]),a(" çš„æ‰§è¡Œç»“æœ")])],-1),z=s("p",null,"è®¡ç®—å‡º scores åï¼Œå°†ä½äºé˜ˆå€¼ T çš„ SQL æ’é™¤æ‰ã€‚",-1),C=s("h4",{id:"_2-3-2-multiple-choice-selection-mcs",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-3-2-multiple-choice-selection-mcs"},[s("span",null,"2.3.2 Multiple-Choice Selection (MCS)")])],-1),T=s("p",null,"ç»è¿‡ä¸Šä¸€å±‚è¿‡æ»¤åï¼Œè¿™ä¸€æ­¥å†åˆ©ç”¨ LLM é€šè¿‡åšå¤šé¡¹é€‰æ‹©æ¥ä»å€™é€‰ SQL ä¸­é€‰å‡ºæœ€å‡†ç¡®çš„ SQLã€‚æ‰€ä½¿ç”¨çš„ prompt å¦‚ä¸‹ï¼š",-1),B=s("div",{class:"language-plain line-numbers-mode","data-ext":"plain","data-title":"plain"},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code","v-pre":""},[s("code",null,[s("span",{class:"line"},[s("span",null,"### For a given DB schema and question, select the most accurate query among the candidate SQL queries.")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"### DB schema: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Question: ...")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Candidate SQLs:")]),a(`
`),s("span",{class:"line"},[s("span",null,"1. SQL1")]),a(`
`),s("span",{class:"line"},[s("span",null,"2. SQL2")]),a(`
`),s("span",{class:"line"},[s("span",null,"3. SQL3")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"Your answer should be in the json format:")]),a(`
`),s("span",{class:"line"},[s("span",null,"{")]),a(`
`),s("span",{class:"line"},[s("span",null,'  "reasoning": ".." # The reasoning steps for selecting the correct SQL query.')]),a(`
`),s("span",{class:"line"},[s("span",null,'  "sql": ".." # The selected SQL query.')]),a(`
`),s("span",{class:"line"},[s("span",null,"}")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"### Your answer:")])])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),N=s("p",null,"åœ¨è¿™é‡Œï¼ŒLLM ä¸ä»…éœ€è¦é€‰æ‹©å‡º SQL queryï¼Œè¿˜éœ€è¦æä¾›é€‰æ‹©è¿™ä¸ª SQL çš„åŸå› ã€‚",-1),D=s("p",null,"ä½¿ç”¨è¿™ä¸€ä¸ª prompt æ¥è®© LLM ç”Ÿæˆ n ä¸ªå“åº”ï¼Œç„¶åé€šè¿‡å¤šæ•°æŠ•ç¥¨ç¡®å®šæœ€ç»ˆçš„ SQL query ç»“æœã€‚",-1),I=s("h2",{id:"ä¸‰ã€æ€»ç»“",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ä¸‰ã€æ€»ç»“"},[s("span",null,"ä¸‰ã€æ€»ç»“")])],-1),E=s("p",null,"æœ¬æ–‡é€šè¿‡å¤šä¸ª prompts è®© LLM å¤šæ¬¡ç”Ÿæˆï¼Œå¹¶é€šè¿‡è¿‡æ»¤é€‰æ‹©å¾—åˆ°æœ€ç»ˆ SQLï¼Œæ•ˆæœåœ¨ BIRD æ•°æ®é›†ä¸Šè¡¨ç°å¾ˆå¥½ã€‚",-1),G=s("p",null,"ä½†æ˜¯æœ¬æ–‡æ–¹æ³•æœ‰ä¸ªæ˜æ˜¾ç¼ºç‚¹ï¼šè°ƒç”¨ LLM çš„æ¬¡æ•°å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚",-1);function j(P,V){const l=t("ExternalLinkIcon");return i(),c("div",null,[s("blockquote",null,[s("p",null,[a("è®ºæ–‡ï¼š"),s("a",r,[a("MCS-SQL: Leveraging Multiple Prompts and Multiple-Choice Selection For Text-to-SQL Generation"),m(l)])]),o,h]),u,d,g,v,L,b,_,y,x,S,k,M,Q,w,q,f,z,C,T,B,N,D,I,E,G])}const F=e(p,[["render",j],["__file","index.html.vue"]]),J=JSON.parse(`{"path":"/arxiv/2405.07467/","title":"ğŸ’¦ MCS-SQLï¼šåˆ©ç”¨å¤šæ · prompts + å¤šé¡¹é€‰æ‹©æ¥åš Text2SQL","lang":"zh-CN","frontmatter":{"title":"ğŸ’¦ MCS-SQLï¼šåˆ©ç”¨å¤šæ · prompts + å¤šé¡¹é€‰æ‹©æ¥åš Text2SQL","author":"Bin Yu","createTime":"2024/06/26 20:13:00","permalink":"/arxiv/2405.07467/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"ä¸€ã€è®ºæ–‡é€Ÿè¯»","slug":"ä¸€ã€è®ºæ–‡é€Ÿè¯»","link":"#ä¸€ã€è®ºæ–‡é€Ÿè¯»","children":[]},{"level":2,"title":"äºŒã€MCS-SQL æ¨¡å‹","slug":"äºŒã€mcs-sql-æ¨¡å‹","link":"#äºŒã€mcs-sql-æ¨¡å‹","children":[{"level":3,"title":"2.1 Schema Linking","slug":"_2-1-schema-linking","link":"#_2-1-schema-linking","children":[]},{"level":3,"title":"2.2  Multiple SQL Generation","slug":"_2-2-multiple-sql-generation","link":"#_2-2-multiple-sql-generation","children":[]},{"level":3,"title":"2.3 Selection","slug":"_2-3-selection","link":"#_2-3-selection","children":[]}]},{"level":2,"title":"ä¸‰ã€æ€»ç»“","slug":"ä¸‰ã€æ€»ç»“","link":"#ä¸‰ã€æ€»ç»“","children":[]}],"readingTime":{"minutes":3.83,"words":1150},"git":{"updatedTime":1719411379000,"contributors":[{"name":"yubinCloud","email":"yubin_SkyWalker@yeah.net","commits":1}]},"filePathRelative":"notes/Text2SQL/2405.MCS-SQL.md","categoryList":[{"type":10000,"name":"notes"},{"type":10004,"name":"Text2SQL"}]}`);export{F as comp,J as data};
