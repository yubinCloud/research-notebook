import{_ as i,r as n,o as c,c as r,a as e,b as s,d as t,w as l,e as d}from"./app-s5JIphqh.js";const h={},_={href:"http://arxiv.org/abs/2204.00498",target:"_blank",rel:"noopener noreferrer"},p=e("p",null,"⭐⭐⭐⭐",-1),m=e("p",null,"arXiv:2204.00498",-1),u=d('<h2 id="一、论文速读" tabindex="-1"><a class="header-anchor" href="#一、论文速读"><span>一、论文速读</span></a></h2><p>本论文尝试了多种 prompt 结构，并且评估了他们在 Codex 和 GPT-3 上的表现。下面介绍这些 prompt 结构：</p><h2 id="二、不同的-prompt-结构" tabindex="-1"><a class="header-anchor" href="#二、不同的-prompt-结构"><span>二、不同的 prompt 结构</span></a></h2><h3 id="_2-1-question-类型" tabindex="-1"><a class="header-anchor" href="#_2-1-question-类型"><span>2.1 Question 类型</span></a></h3>',4),g=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606143614.png",alt:"20240606143614",style:{zoom:"75%"}},null,-1),b=e("p",null,"这种 prompt 不提供数据库信息，只是以 SQL 注释的形式提供了一个 question。",-1),f=e("h3",{id:"_2-2-api-docs-类型",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-2-api-docs-类型"},[e("span",null,"2.2 API Docs 类型")])],-1),x=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606144208.png",alt:"20240606144208",style:{zoom:"75%"}},null,-1),k=e("p",null,"这种风格遵循了 Codex 文档中 Text2SQL 示例的风格，并且以不符合 SQLite 标准的注释风格包含 DB schema。",-1),L=e("h3",{id:"_2-3-select-x-类型",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-3-select-x-类型"},[e("span",null,"2.3 Select X 类型")])],-1),y=e("p",null,"以 Select 3 为例：",-1),T=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606150511.png",alt:"20240606150511",style:{zoom:"75%"}},null,-1),w=e("p",null,[s("以注释的形式，给出了对每个 table 执行 "),e("code",null,"SELECT * FROM T LIMIT X"),s(" 的结果以及 table headers。")],-1),S=e("h3",{id:"_2-4-create-table-类型",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-4-create-table-类型"},[e("span",null,"2.4 Create Table 类型")])],-1),v=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606150646.png",alt:"20240606150646",style:{zoom:"75%"}},null,-1),C=e("p",null,"包含了每个 table 的 CREATE TABLE 命令，里面包含了 column type 和 foreign key 的声明。",-1),q=e("h3",{id:"_2-5-create-table-select-x-类型",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-5-create-table-select-x-类型"},[e("span",null,"2.5 Create Table + Select X 类型")])],-1),E=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606151748.png",alt:"20240606151748",style:{zoom:"75%"}},null,-1),Q=e("p",null,"这是上述两种 prompt 格式的组合。",-1),z=e("h3",{id:"_2-6-few-shot-类型",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-6-few-shot-类型"},[e("span",null,"2.6 Few-shot 类型")])],-1),M=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606151913.png",alt:"20240606151913",style:{zoom:"75%"}},null,-1),j=e("p",null,"这种就是包含了几个 NL question 和 result 的 pairs 作为 few-shot demonstrations。",-1),X=e("h2",{id:"三、实验结果",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#三、实验结果"},[e("span",null,"三、实验结果")])],-1),I=e("h3",{id:"_3-1-zero-shot-的结果",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-1-zero-shot-的结果"},[e("span",null,"3.1 Zero-shot 的结果")])],-1),P=e("p",null,"下表展示了不同模型大小在 Spider 上的比较结果：",-1),A=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606153636.png",alt:"20240606153636",style:{zoom:"75%"}},null,-1),B=e("p",null,"可以看到，Codex davinci 版本表现最好，所以 Codex 为 Text2SQL 任务提供了强大的基准。",-1),N=e("p",null,"下表展示了在 Codex davinci 上设置不同的 prompt style 的表现：",-1),F=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606154232.png",alt:"20240606154232",style:{zoom:"75%"}},null,-1),D=e("p",null,"这可以明显感觉到，prompt style 对性能至关重要：Question 类型的只有 8.3% 的执行精度，而在 API Docs 类型中引入 schema info 后，这一性能提升了 59.9%。",-1),R=e("p",null,"此外，在 SELECT X 的 style 中，可以观察到在添加更多 rows 时，性能的变化可以忽略不计。但在 CREATE TABLE + SELECT X 中，最好的是 3 rows，随着添加更多 rows，性能显著会下降。",-1),V=e("h3",{id:"_3-2-few-shots-的结果",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_3-2-few-shots-的结果"},[e("span",null,"3.2 Few-shots 的结果")])],-1),G=e("p",null,"在 Codex 上使用 few-shots 类型的 prompts，基于 Create Table + Select X 风格，在 n 个 question-query pairs 附加到输入上。",-1),O=e("p",null,"下图是在 GeoQuery 和 Scholar 两个数据集上，将微调的 T5 作为 baseline 的比较结果（横轴是 demonstrations 的个数）：",-1),Z=e("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240606160146.png",alt:"20240606160146",style:{zoom:"75%"}},null,-1),J=e("p",null,"Codex 在 few samples 中比 T5 显示出更好的适应性，并超越了 T5 baseline。",-1),W=e("h2",{id:"四、结论",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#四、结论"},[e("span",null,"四、结论")])],-1),Y=e("p",null,"论文指出，在代码上训练的 LLM 为 Text2SQL 任务提供了强大的 baseline，论文中还对 error cases 做了分析。",-1),H=e("p",null,"论文也指出，与传统的基于微调小模型的少样本学习相比，用这些 LLM 进行基于 prompt 的 few-shot learning 表现出竞争力。",-1);function K(U,$){const a=n("ExternalLinkIcon"),o=n("center");return c(),r("div",null,[e("blockquote",null,[e("p",null,[s("论文："),e("a",_,[s("Evaluating the Text-to-SQL Capabilities of Large Language Models"),t(a)])]),p,m]),u,t(o,null,{default:l(()=>[g]),_:1}),b,f,t(o,null,{default:l(()=>[x]),_:1}),k,L,y,t(o,null,{default:l(()=>[T]),_:1}),w,S,t(o,null,{default:l(()=>[v]),_:1}),C,q,t(o,null,{default:l(()=>[E]),_:1}),Q,z,t(o,null,{default:l(()=>[M]),_:1}),j,X,I,P,t(o,null,{default:l(()=>[A]),_:1}),B,N,t(o,null,{default:l(()=>[F]),_:1}),D,R,V,G,O,t(o,null,{default:l(()=>[Z]),_:1}),J,W,Y,H])}const te=i(h,[["render",K],["__file","index.html.vue"]]),oe=JSON.parse(`{"path":"/arxiv/2204.00498/","title":"🌙 评估 LLM 的 Text2SQL 能力（2204）","lang":"zh-CN","frontmatter":{"title":"🌙 评估 LLM 的 Text2SQL 能力（2204）","author":"Bin Yu","createTime":"2024/06/06 14:09:00","permalink":"/arxiv/2204.00498/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"一、论文速读","slug":"一、论文速读","link":"#一、论文速读","children":[]},{"level":2,"title":"二、不同的 prompt 结构","slug":"二、不同的-prompt-结构","link":"#二、不同的-prompt-结构","children":[{"level":3,"title":"2.1 Question 类型","slug":"_2-1-question-类型","link":"#_2-1-question-类型","children":[]},{"level":3,"title":"2.2 API Docs 类型","slug":"_2-2-api-docs-类型","link":"#_2-2-api-docs-类型","children":[]},{"level":3,"title":"2.3 Select X 类型","slug":"_2-3-select-x-类型","link":"#_2-3-select-x-类型","children":[]},{"level":3,"title":"2.4 Create Table 类型","slug":"_2-4-create-table-类型","link":"#_2-4-create-table-类型","children":[]},{"level":3,"title":"2.5 Create Table + Select X 类型","slug":"_2-5-create-table-select-x-类型","link":"#_2-5-create-table-select-x-类型","children":[]},{"level":3,"title":"2.6 Few-shot 类型","slug":"_2-6-few-shot-类型","link":"#_2-6-few-shot-类型","children":[]}]},{"level":2,"title":"三、实验结果","slug":"三、实验结果","link":"#三、实验结果","children":[{"level":3,"title":"3.1 Zero-shot 的结果","slug":"_3-1-zero-shot-的结果","link":"#_3-1-zero-shot-的结果","children":[]},{"level":3,"title":"3.2 Few-shots 的结果","slug":"_3-2-few-shots-的结果","link":"#_3-2-few-shots-的结果","children":[]}]},{"level":2,"title":"四、结论","slug":"四、结论","link":"#四、结论","children":[]}],"readingTime":{"minutes":2.48,"words":744},"git":{"updatedTime":1717830098000,"contributors":[{"name":"yubinCloud","email":"yubin_SkyWalker@yeah.net","commits":2}]},"filePathRelative":"notes/Text2SQL/2204.评估 LLM 的 Text2SQL 能力.md","categoryList":[{"type":10000,"name":"notes"},{"type":10004,"name":"Text2SQL"}]}`);export{te as comp,oe as data};
