import{_ as a,r as s,o as r,c as m,a as t,b as l,d as o,w as n,e as i}from"./app-s5JIphqh.js";const c={},d={href:"https://aclanthology.org/2023.emnlp-main.327",target:"_blank",rel:"noopener noreferrer"},u=t("p",null,"â­â­â­â­",-1),h=t("p",null,"EMNLP 2023, arXiv:2305.14215",-1),g=t("h2",{id:"ä¸€ã€è®ºæ–‡é€Ÿè¯»",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#ä¸€ã€è®ºæ–‡é€Ÿè¯»"},[t("span",null,"ä¸€ã€è®ºæ–‡é€Ÿè¯»")])],-1),_=t("p",null,"æœ¬æ–‡é€šè¿‡å¯¹ LLM ä½¿ç”¨ CoT-style çš„ prompting æ–¹æ³•æ¥è§£å†³ Text2SQL é—®é¢˜ï¼Œè¯•å›¾å›ç­”ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ï¼š",-1),L=t("ol",null,[t("li",null,"å“ªç§ prompting style æ›´å¥½ï¼šåœ¨ä¸€ä¸ª pass ä¸­ç”Ÿæˆæ‰€æœ‰æ¨ç†æ­¥éª¤å¥½ï¼Œè¿˜æ˜¯è¿­ä»£ prompting å¹¶è§£å†³é—®é¢˜å¥½ï¼Ÿ"),t("li",null,"è¯¦ç»†çš„æ¨ç†æ­¥éª¤å¯¹äº Text2SQL ä»»åŠ¡æ¥è¯´æ˜¯å¦ä¼šäº§ç”Ÿæ›´å¥½çš„ç»“æœï¼Ÿ")],-1),x=t("p",null,"è®ºæ–‡åœ¨å››ç§å¤šæ­¥æ¨ç†çš„ prompting æ–¹æ³•ä¸Šåšäº†è¯•éªŒï¼Œå¹¶å¯¹æ¯”äº†æ•ˆæœï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚",-1),b=t("h2",{id:"äºŒã€ç”¨äº-text2sql-çš„å¤šæ­¥æ¨ç†çš„-prompting-æ–¹æ³•",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#äºŒã€ç”¨äº-text2sql-çš„å¤šæ­¥æ¨ç†çš„-prompting-æ–¹æ³•"},[t("span",null,"äºŒã€ç”¨äº Text2SQL çš„å¤šæ­¥æ¨ç†çš„ prompting æ–¹æ³•")])],-1),f=t("p",null,"ä¸‹å›¾æ˜¯å››ç§ prompting çš„ç¤ºä¾‹ï¼Œè¾“å…¥çš„æ˜¯ç›¸åŒçš„ DB schema å’Œ questionï¼Œä¸åŒçš„ prompting æ–¹æ³•æœ‰æœŸå¾…çš„ä¸åŒçš„è¾“å‡ºï¼š",-1),k=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717504155608.png",alt:"1717504155608",style:{zoom:"75%"}},null,-1),T=t("h3",{id:"_2-1-chain-of-thought-prompting",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_2-1-chain-of-thought-prompting"},[t("span",null,"2.1 Chain-of-Thought Prompting")])],-1),q=t("p",null,"CoT æ—¨åœ¨åœ¨é¢„æµ‹ç­”æ¡ˆä¹‹å‰å…ˆç”Ÿæˆä¸€ç³»åˆ—ä¸­é—´æ­¥éª¤ä»è€Œæé«˜ LLM çš„æ¨ç†èƒ½åŠ›ï¼Œé‚£å¦‚ä½•æå‡ºè¿™äº›ä¸­é—´æ­¥éª¤å°±æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚",-1),C=t("p",null,"æœ¬æ–‡æ˜¯ä½¿ç”¨ SQL query ä¸­çš„æ¯ä¸ª clause çš„æ¨ç†æ€è·¯ç»„æˆ CoT prompt ä¸­çš„æ¨ç†æ­¥éª¤ã€‚ä¸‹å›¾æ˜¯ä¸€ä¸ªåœ¨ Spider ä¸Š 1-shot çš„ CoT ç¤ºä¾‹ï¼š",-1),Q=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717505610202.png",alt:"1717505610202",style:{zoom:"75%"}},null,-1),y=i('<ul><li>çº¢è‰²æ–¹æ¡†çš„éƒ¨åˆ†æ˜¯ 1-shot çš„ demonstrationï¼Œæ•™ä¼š LLM æ¥ç”Ÿæˆæ€ç»´é“¾çš„æ¨ç†æ­¥éª¤</li><li>è“è‰²æ–¹æ¡†çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬æƒ³è®© LLM è§£å†³çš„ question</li></ul><h3 id="_2-2-least-to-most-prompting" tabindex="-1"><a class="header-anchor" href="#_2-2-least-to-most-prompting"><span>2.2 Least-to-Most Prompting</span></a></h3><p>CoT æ˜¯è®© LLM ä¸€æ¬¡ç”Ÿæˆæ‰€æœ‰çš„æ¨ç†æ­¥éª¤ï¼Œè€Œ Least-to-Most Prompting åˆ™æ˜¯åœ¨ä¸¤ä¸ªé˜¶æ®µæ¥è§£å†³å¤æ‚é—®é¢˜ï¼š</p><ul><li><strong>problem reduction é˜¶æ®µ</strong>ï¼šæç¤º LLM ä»åŸå§‹å¤æ‚ question ä¸­ç”Ÿæˆä¸€ç³»åˆ— sub-question</li><li><strong>problem solving é˜¶æ®µ</strong>ï¼šæ¯æ¬¡ç”¨ä¸€ä¸ª sub-question æ¥ prompt LLMï¼Œå¹¶è¿­ä»£åœ°å»ºç«‹æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</li></ul><blockquote><p>æœ€åä¸€ä¸ª sub-question å°±æ˜¯åŸæ¥çš„ user questionã€‚</p></blockquote><p>ä¸‹å›¾æ˜¯ problem reduction é˜¶æ®µçš„ç¤ºä¾‹ï¼š</p>',6),S=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717506774090.png",alt:"1717506774090",style:{zoom:"75%"}},null,-1),M=t("p",null,"ä¸‹å›¾æ˜¯ problem solving é˜¶æ®µçš„ç¤ºä¾‹ï¼š",-1),v=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717507167824.png",alt:"1717507167824",style:{zoom:"75%"}},null,-1),D=t("h3",{id:"_2-3-question-decomposition-prompting-qdecomp",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_2-3-question-decomposition-prompting-qdecomp"},[t("span",null,"2.3 Question Decomposition Promptingï¼ˆQDecompï¼‰")])],-1),P=t("p",null,[l("è¿™é‡Œå°±æ˜¯æœ¬æ–‡æ–°æå‡ºçš„ "),t("mark",null,"QDecomp"),l(" prompting æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ç»“åˆ CoT å’Œ Least-to-Most ä¸¤ç§æ–¹æ³•çš„ç‰¹ç‚¹ï¼šåƒ CoT é‚£æ ·ä¸€æ¬¡æ€§ç”Ÿæˆä¸­é—´æ¨ç†æ­¥éª¤å’Œæœ€ç»ˆçš„ SQL queryï¼Œä½†æ˜¯ä¸­é—´æ¨ç†æ­¥éª¤ä¸æ˜¯ä¹‹å‰ä½¿ç”¨ CoT é‚£æ ·çš„ SQL é€»è¾‘æ¨ç†è¿‡ç¨‹ï¼Œè€Œæ˜¯éµå¾ª Least-to-Most prompting çš„ problem reduction é˜¶æ®µçš„æ€è·¯ï¼ŒæŒ‡å¯¼ LLM å°†åŸå§‹å¤æ‚é—®é¢˜åˆ†è§£ä¸ºæ¨ç†æ­¥éª¤ï¼š")],-1),I=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717507972711.png",alt:"1717507972711",style:{zoom:"75%"}},null,-1),E=t("p",null,[l("åœ¨ QDecomp åŸºç¡€ä¸Šï¼Œæœ¬æ–‡åˆæå‡ºäº†ä¸€ä¸ªå˜ä½“ "),t("mark",null,"QDecomp + InterCOL"),l("ï¼Œç”¨äºç¼“è§£ Text2SQL ä»»åŠ¡ä¸­å¸¸è§çš„ Schema Linking çš„é—®é¢˜ï¼šä»–æ‰©å……äº†æ›´å¤šçš„ in-context exemplarsï¼Œä»¥æ•™ä¼š LLM åœ¨ç”Ÿæˆæ¯ä¸ª sub-questions æ—¶è¯†åˆ«å‡ºä»»ä½•ç›¸åº”çš„ table/column namesã€‚")],-1),z=t("p",null,"ä¸‹å›¾æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š",-1),j=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/1717508828195.png",alt:"1717508828195",style:{zoom:"75%"}},null,-1),w=t("blockquote",null,[t("p",null,"è¿™é‡Œçš„å…·ä½“è§£é‡Šå¯ä»¥å‚è€ƒåŸè®ºæ–‡")],-1),N=t("h2",{id:"ä¸‰ã€å®éªŒ",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#ä¸‰ã€å®éªŒ"},[t("span",null,"ä¸‰ã€å®éªŒ")])],-1),B=t("p",null,"è®ºæ–‡ä½¿ç”¨äº† Spider å’Œ Spider Realistic ä¸¤ä¸ªæ•°æ®é›†ï¼ŒICL çš„ exemplars æ˜¯é‡‡ç”¨ random selection å¾—åˆ°çš„ã€‚LLM ä½¿ç”¨ Codexã€‚Prompt Format ä½¿ç”¨äº† API Docs çš„æ ¼å¼ã€‚",-1),O=t("p",null,"å…·ä½“å®éªŒä¸Šï¼Œæµ‹è¯•äº†ä¸åŒçš„ prompting æ–¹æ³•ï¼Œé¡ºå¸¦è¿˜æœ‰ standard prompting æ–¹æ³•ä½œä¸º baselineã€‚",-1),V=t("blockquote",null,[t("p",null,"standard prompting æ–¹æ³•æŒ‡çš„æ˜¯ä½¿ç”¨å‡ ä¸ª question-SQL pairs ä½œä¸º ICL çš„ exemplars æ¥ç›´æ¥ prompt LLM å¾—åˆ°ç­”æ¡ˆï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸æ¶‰åŠä¸­é—´æ¨ç†è¿‡ç¨‹ã€‚")],-1),A=t("p",null,"å®éªŒæ•°æ®å¦‚ä¸‹ï¼š",-1),R=t("img",{src:"https://notebook-img-1304596351.cos.ap-beijing.myqcloud.com/img/20240604215320.png",alt:"20240604215320",style:{zoom:"75%"}},null,-1),F=i('<p>å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š</p><ul><li>QDecomp å’Œ QDecomp + InterCOL æ–¹æ³•çš„è¡¨ç°å‡è¶…è¿‡äº† CoT å’Œ Least-to-Most</li><li>å¯¹äº Text2SQL æ¥è¯´ï¼Œè¿­ä»£å¼åœ°è§£å†³ä¸€ç³»åˆ— sub-questions å¯èƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œå†µä¸”è¿™ç§æ–¹æ³•çš„æˆæœ¬è¿˜å¾ˆé«˜ã€‚</li><li>CoT prompting ç”šè‡³æ¯” standard prompting æ•ˆæœæ›´å·®</li></ul><h3 id="_3-1-è¯¯å·®åˆ†æ-cot-æ•ˆæœç”šè‡³ä¸å¦‚-standard-prompting" tabindex="-1"><a class="header-anchor" href="#_3-1-è¯¯å·®åˆ†æ-cot-æ•ˆæœç”šè‡³ä¸å¦‚-standard-prompting"><span>3.1 è¯¯å·®åˆ†æï¼šCoT æ•ˆæœç”šè‡³ä¸å¦‚ standard prompting</span></a></h3><p>é€šè¿‡å¯¹ error cases çš„åˆ†æï¼Œå‘ç°ï¼Œ<strong>ç”±äº CoT ä¼šç”Ÿæˆè¯¦ç»†çš„æ¨ç†æ­¥éª¤ï¼Œè€Œè¿™ä¸­é—´ä»»ä½•ä¸€æ­¥å‡ºé”™éƒ½ä¼šå¯¼è‡´é”™è¯¯ä¼ æ’­ï¼Œä»è€Œå¯¼è‡´æœ€åçš„ç­”æ¡ˆå‡ºç°é”™è¯¯</strong>ã€‚</p><p>è€Œ QDecomp æ–¹æ³•ä¸æŒ‡ç¤º LLM ç”Ÿæˆè¯¦ç»†çš„æ¨ç†æ­¥éª¤æˆ–è€…ä¸­é—´ SQL queryï¼Œè¿™æ ·å°±å‡å°‘äº†æ¨ç†æ­¥éª¤ä¸­é”™è¯¯ç´¯ç§¯çš„å¯èƒ½æ€§ã€‚</p><h3 id="_3-2-prompt-çš„è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_3-2-prompt-çš„è®¾è®¡"><span>3.2 Prompt çš„è®¾è®¡</span></a></h3><ul><li><strong>ICL Examples çš„é€‰æ‹©</strong>ï¼šå‘ç° QDecomp + InterCOL æ–¹æ³•å…·å¤‡ä¸é”™çš„é²æ£’æ€§</li><li><strong>ICL Examples çš„æ•°é‡</strong>ï¼šæœ¬æ–‡å‘ç°å½“æ ·æœ¬æ•°é‡è¶…è¿‡ 8 æ—¶ï¼Œå¸¦æ¥çš„å¢ç›Šè¾ƒå°ï¼Œå› æ­¤æœ¬æ–‡ä½¿ç”¨äº† 8 ä¸ªä¸Šä¸‹æ–‡ç¤ºä¾‹</li><li><strong>ICL Examples çš„æ ¼å¼</strong>ï¼šæµ‹è¯•äº†ä¸¤ç§ prompt æ ¼å¼ï¼š<em>API Docs</em> å’Œ <em>Create Table + Select 3</em></li></ul><h2 id="å››ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å››ã€æ€»ç»“"><span>å››ã€æ€»ç»“</span></a></h2><p>æœ¬æ–‡åŸºäº Codex çš„ LLM æ¥æ¢ç´¢äº† CoT-style çš„ prompting æ•ˆæœï¼Œå¢å¼ºäº† LLM å¯¹ Text2SQL è§£æçš„æ¨ç†èƒ½åŠ›ã€‚</p><p>è®ºæ–‡å‘ç°äº† CoT åœ¨ Text2SQL ä»»åŠ¡ä¸­ä¼šå‡ºç°é”™è¯¯ä¼ æ’­é—®é¢˜ï¼Œæœ¬æ–‡æå‡ºçš„ QDecomp æ–¹æ³•æ˜¯ç¼“è§£ LLM å¤šæ­¥éª¤æ¨ç†ä¸­é”™è¯¯ä¼ æ’­é—®é¢˜çš„å°è¯•ä¹‹ä¸€ï¼Œä¹‹åå€¼å¾—å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œæ›´æ·±ä¸€æ­¥çš„æ¢è®¨ã€‚</p>',10);function J(W,X){const p=s("ExternalLinkIcon"),e=s("center");return r(),m("div",null,[t("blockquote",null,[t("p",null,[l("è®ºæ–‡ï¼š"),t("a",d,[l("Exploring Chain of Thought Style Prompting for Text-to-SQL"),o(p)])]),u,h]),g,_,L,x,b,f,o(e,null,{default:n(()=>[k]),_:1}),T,q,C,o(e,null,{default:n(()=>[Q]),_:1}),y,o(e,null,{default:n(()=>[S]),_:1}),M,o(e,null,{default:n(()=>[v]),_:1}),D,P,o(e,null,{default:n(()=>[I]),_:1}),E,z,o(e,null,{default:n(()=>[j]),_:1}),w,N,B,O,V,A,o(e,null,{default:n(()=>[R]),_:1}),F])}const G=a(c,[["render",J],["__file","index.html.vue"]]),H=JSON.parse(`{"path":"/arxiv/2305.14215/","title":"ğŸŒ™ QDecompï¼šæ¢ç´¢ CoT-style çš„ prompt æ¥è§£å†³ Text2SQL","lang":"zh-CN","frontmatter":{"title":"ğŸŒ™ QDecompï¼šæ¢ç´¢ CoT-style çš„ prompt æ¥è§£å†³ Text2SQL","author":"Bin Yu","createTime":"2024/06/04 16:59:00","permalink":"/arxiv/2305.14215/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":2,"title":"ä¸€ã€è®ºæ–‡é€Ÿè¯»","slug":"ä¸€ã€è®ºæ–‡é€Ÿè¯»","link":"#ä¸€ã€è®ºæ–‡é€Ÿè¯»","children":[]},{"level":2,"title":"äºŒã€ç”¨äº Text2SQL çš„å¤šæ­¥æ¨ç†çš„ prompting æ–¹æ³•","slug":"äºŒã€ç”¨äº-text2sql-çš„å¤šæ­¥æ¨ç†çš„-prompting-æ–¹æ³•","link":"#äºŒã€ç”¨äº-text2sql-çš„å¤šæ­¥æ¨ç†çš„-prompting-æ–¹æ³•","children":[{"level":3,"title":"2.1 Chain-of-Thought Prompting","slug":"_2-1-chain-of-thought-prompting","link":"#_2-1-chain-of-thought-prompting","children":[]},{"level":3,"title":"2.2 Least-to-Most Prompting","slug":"_2-2-least-to-most-prompting","link":"#_2-2-least-to-most-prompting","children":[]},{"level":3,"title":"2.3 Question Decomposition Promptingï¼ˆQDecompï¼‰","slug":"_2-3-question-decomposition-prompting-qdecomp","link":"#_2-3-question-decomposition-prompting-qdecomp","children":[]}]},{"level":2,"title":"ä¸‰ã€å®éªŒ","slug":"ä¸‰ã€å®éªŒ","link":"#ä¸‰ã€å®éªŒ","children":[{"level":3,"title":"3.1 è¯¯å·®åˆ†æï¼šCoT æ•ˆæœç”šè‡³ä¸å¦‚ standard prompting","slug":"_3-1-è¯¯å·®åˆ†æ-cot-æ•ˆæœç”šè‡³ä¸å¦‚-standard-prompting","link":"#_3-1-è¯¯å·®åˆ†æ-cot-æ•ˆæœç”šè‡³ä¸å¦‚-standard-prompting","children":[]},{"level":3,"title":"3.2 Prompt çš„è®¾è®¡","slug":"_3-2-prompt-çš„è®¾è®¡","link":"#_3-2-prompt-çš„è®¾è®¡","children":[]}]},{"level":2,"title":"å››ã€æ€»ç»“","slug":"å››ã€æ€»ç»“","link":"#å››ã€æ€»ç»“","children":[]}],"readingTime":{"minutes":4.16,"words":1247},"git":{"updatedTime":1717830098000,"contributors":[{"name":"yubinCloud","email":"yubin_SkyWalker@yeah.net","commits":2}]},"filePathRelative":"notes/Text2SQL/2305.QDecomp.md","categoryList":[{"type":10000,"name":"notes"},{"type":10004,"name":"Text2SQL"}]}`);export{G as comp,H as data};
